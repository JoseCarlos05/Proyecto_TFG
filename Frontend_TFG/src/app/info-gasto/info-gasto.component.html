<app-header></app-header>

<ion-img
  class="flecha-retorno"
  src="assets/icon/FlechaRetorno.png"
  (click)="volverAtras()">
</ion-img>

<ion-content>
  <div class="contenedor-princial">
    <div class="asunto-gasto">
      <span>{{gasto.concepto}}</span>
    </div>
    <div class="info-gasto">
      <div>
        <span>Coste total: {{gasto.total}}€</span>
      </div>
      <div>
        <span>Coste por vecino: {{totalPorVecino}}€</span>
      </div>
      <div>
        <span>Pagado: {{porcentajePagado}}% / {{gasto.total}}€</span>
      </div>
    </div>
    <div class="contenedor-boton">
      <button (click)="abrirModal(gasto)">
        {{ porcentajePagado === 100 ? 'Pagado' : 'Ver más' }}
      </button>
    </div>
  </div>
</ion-content>

<div class="modal-overlay" *ngIf="modalAbierto" (click)="cerrarModal()">
  <div class="modal-contenido" (click)="$event.stopPropagation()">
    <h1>Enviar recordatorio</h1>
    <div class="lista-gastos">
      <label *ngFor="let vecino of vecinoDeudas">
        <input type="checkbox" [value]="vecino.id" (change)="actualizarSeleccion($event)">
        <span class="texto-gasto">{{ vecino.nombre }} {{ vecino.apellidos}}</span>
      </label>
    </div>

    <div class="botones-modal">
      <button (click)="aceptar()">Aceptar</button>
      <button (click)="cerrarModal()">Cerrar</button>
    </div>
  </div>
</div>

<app-menu-inferior-comunidad></app-menu-inferior-comunidad>
